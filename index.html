<html lang="zh">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="ezin666">
    <title>简易Lofter评论抽奖计票工具</title>
    <link rel="stylesheet" type="text/css" href="styles.css">
    <script src="xmlhandler.js" defer="true"></script>
  </head>
  <body>
      <noscript><p>您的浏览器不支持Javascript!</p></noscript>
      <fieldset><label>XML导出文件：</label><input type="file" accept=".xml" name="xmlpath" id="file" required>
      </fieldset>
      <fieldset><label>Lofter文章地址：</label><input id="url" onchange="resetFileCache()" type="url" name="posturl" required>
      </fieldset>

      <div class="tab">
        <button class="tablink" onclick="openTab(event,'draw')" id="defaultOpen">抽奖</button>
        <button class="tablink" onclick="openTab(event,'poll')">计票</button>
      </div>

      <div id="draw" class="tabcontent">
        <button onclick="processDraw()">抽奖</button>
        
        <div id="drawresult"></div>
      </div>
      
      <div id="poll" class="tabcontent">
        <button>计票</button>

        <div id="pollresult"></div>
      </div>

<script>
function openTab(ev, tabName) {
  var i, l, tabcontent, tablinks;
  tabcontent = document.getElementsByClassName("tabcontent");
  tablinks = document.getElementsByClassName("tablink");
  l = tabcontent.length;

  for (i = 0; i < l; ++i) {
    tabcontent[i].style.display = "none";
    tablinks[i].className = tablinks[i].className.replace(" active", "");
  }

  document.getElementById(tabName).style.display = "block";
  ev.currentTarget.className += " active";  
}

// open default tab on page load
document.getElementById("defaultOpen").click();
</script>
  </body>
</html>